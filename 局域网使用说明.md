# 工业工作流管理系统 - 局域网使用说明

## 🏠 局域网访问配置（已完成）

### 服务器信息
- **服务器 IP**：192.168.2.17
- **前端地址**：http://192.168.2.17:3000
- **后端地址**：http://192.168.2.17:3001

---

## 🚀 如何启动项目

### 步骤 1：启动 MongoDB（确保运行）

检查服务：
```powershell
Get-Service -Name MongoDB
```

如果未运行，启动它：
```powershell
Start-Service -Name MongoDB
```

---

### 步骤 2：启动后端服务

**打开 Command Prompt（cmd）窗口 1**：
```cmd
cd E:\workflow-web-main\workflow-web-main\backend
npm start
```

看到提示：
```
🚀 服务器启动成功！
📡 运行在: http://localhost:3001
```

**保持这个窗口打开！**

---

### 步骤 3：启动前端服务

**打开 Command Prompt（cmd）窗口 2**：
```cmd
cd E:\workflow-web-main\workflow-web-main\workflow-web
npm start
```

浏览器会自动打开：`http://localhost:3000`

**保持这个窗口打开！**

---

## 👥 访问方式

### 你自己（服务器电脑）
```
访问地址：http://localhost:3000
或：http://192.168.2.17:3000
```

### 办公室同事（同一局域网）
```
访问地址：http://192.168.2.17:3000

要求：
1. 连接同一个 WiFi/网络
2. 服务器电脑要开着
3. 防火墙已开放端口（已配置好）
```

---

## 👤 默认账号

- **用户名**：`admin`
- **密码**：`123456`

⚠️ 首次登录后请修改密码！

---

## 🛑 如何停止项目

1. 在后端窗口按 `Ctrl + C` 停止后端
2. 在前端窗口按 `Ctrl + C` 停止前端
3. （可选）停止 MongoDB：`Stop-Service -Name MongoDB`

---

## 🔧 防火墙配置（已完成）

以下端口已开放：
- ✅ 端口 3000（前端）
- ✅ 端口 3001（后端）

---

## ⚠️ 常见问题

### Q1: 同事无法访问

**检查清单**：
1. 是否在同一 WiFi/局域网？
2. 服务器端项目是否运行？
3. 让同事 ping 192.168.2.17 测试连通

### Q2: 提示无法连接服务器

**解决**：
1. 检查后端是否运行（3001端口）
2. 检查防火墙规则是否生效

### Q3: 端口被占用

**解决**：
```cmd
# 查找占用端口的进程
netstat -ano | findstr :3000
netstat -ano | findstr :3001

# 关闭进程（根据 PID）
taskkill /PID 进程号 /F
```

---

## 📋 快速命令参考

### 检查服务状态
```powershell
# MongoDB
Get-Service -Name MongoDB

# 端口占用
netstat -ano | findstr :3000
netstat -ano | findstr :3001
```

### 防火墙规则
```powershell
# 查看规则
netsh advfirewall firewall show rule name=all | findstr Workflow

# 如需重新添加
netsh advfirewall firewall add rule name="Workflow Frontend - Port 3000" dir=in action=allow protocol=TCP localport=3000
netsh advfirewall firewall add rule name="Workflow Backend - Port 3001" dir=in action=allow protocol=TCP localport=3001
```

---

## 💡 使用建议

### 日常使用
1. 早上开机后启动 MongoDB、后端、前端
2. 同事可以全天访问
3. 下班前停止服务

### 创建用户账号
不要所有人都用 admin 账号：
1. 用 admin 登录
2. 在用户管理中为每个同事创建账号
3. 分配合适的角色权限

---

## 📞 技术支持

**查看本机 IP**：
```cmd
ipconfig
```

**测试网络连通**：
```cmd
ping 192.168.2.17
```

---

**祝使用愉快！** 🎉


